"use strict";(self.webpackChunkimperial=self.webpackChunkimperial||[]).push([[865],{6811:(b,h,r)=>{r.d(h,{M:()=>v});var a=r(2965),u=r(7579),e=r(2223),m=r(5580),g=r(4755),n=r(1576);function d(i,f){if(1&i){const t=e.EpF();e.TgZ(0,"webcam",22),e.NdJ("imageCapture",function(l){e.CHM(t);const x=e.oxw(2);return e.KtG(x.handleImage(l))})("cameraSwitched",function(l){e.CHM(t);const x=e.oxw(2);return e.KtG(x.cameraWasSwitched(l))}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("trigger",t.triggerObservable)("videoOptions",t.videoOptions)("imageQuality",1)}}function o(i,f){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",18),e.YNc(2,d,1,3,"webcam",19),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"div",18)(5,"div",11)(6,"button",20),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.showNextWebcam(!0))}),e._UZ(7,"span",21),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.showWebcam),e.xp6(4),e.Q6J("disabled",!t.multipleWebcamsAvailable)}}function s(i,f){if(1&i&&(e.TgZ(0,"div",18),e._UZ(1,"img",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("src",t.webcamImage.imageAsDataUrl,e.LSH)}}function p(i,f){if(1&i){const t=e.EpF();e.TgZ(0,"div",11)(1,"a",24),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.triggerSnapshot())}),e._UZ(2,"span",25),e.qZA()()}}function _(i,f){if(1&i){const t=e.EpF();e.TgZ(0,"div",11)(1,"a",24),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.reload())}),e._UZ(2,"span",26),e.qZA()()}}let v=(()=>{class i{constructor(t){this.matDialogRef=t,this.showWebcam=!0,this.allowCameraSwitch=!0,this.multipleWebcamsAvailable=!1,this.videoOptions={height:{ideal:1024},width:{ideal:576}},this.errors=[],this.trigger=new u.x,this.nextWebcam=new u.x,this.savePhoto=()=>{const c=this.webcamImage?.imageAsDataUrl;this.matDialogRef.close(c)},this.close=()=>{this.matDialogRef.close(!1)}}ngOnInit(){a.BF.getAvailableVideoInputs().then(t=>{this.multipleWebcamsAvailable=t&&t.length>1})}triggerSnapshot(){this.trigger.next()}reload(){this.webcamImage=null}toggleWebcam(){this.showWebcam=!this.showWebcam}handleInitError(t){this.errors.push(t)}showNextWebcam(t){this.nextWebcam.next(t)}handleImage(t){this.webcamImage=t}cameraWasSwitched(t){this.deviceId=t}get triggerObservable(){return this.trigger.asObservable()}get nextWebcamObservable(){return this.nextWebcam.asObservable()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["manage-camera"]],decls:22,vars:5,consts:[["id","camera",1,"dialog-content-wrapper","fixed-actions"],[1,"card",2,"height","inherit !important"],[1,"card-header"],[2,"font-size","calc(1.325rem + 0.9vw)"],[1,"card-body"],["fxLayout","column","fxLayoutAlign","center",1,"p-4",2,"height","100%"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","center",4,"ngIf"],[1,"card-footer"],["fxLayout","row","fxLayoutAlign","space-between"],[1,"col-3"],[1,"d-grid","gap-2"],[1,"btn","btn-success","btn-icon-text",3,"disabled","click"],[1,"feather","icon-save"],[1,"col-5"],["class","d-grid gap-2",4,"ngIf"],[1,"btn","btn-danger","btn-icon-text",3,"click"],[1,"feather","icon-x"],["fxLayout","row","fxLayoutAlign","center"],[3,"trigger","videoOptions","imageQuality","imageCapture","cameraSwitched",4,"ngIf"],[1,"btn","btn-primary","btn-icon-text",3,"disabled","click"],[1,"feather","icon-refresh-cw"],[3,"trigger","videoOptions","imageQuality","imageCapture","cameraSwitched"],["alt","...",1,"card-img-top",3,"src"],["href","javascript:void(0)",1,"btn","btn-primary",3,"click"],[1,"feather","icon-aperture"],[1,"feather","icon-repeat"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e._uU(4,"C\xe2mera"),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5),e.YNc(7,o,8,2,"div",6),e.YNc(8,s,2,1,"div",7),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"button",12),e.NdJ("click",function(){return c.savePhoto()}),e._UZ(14,"span",13),e.qZA()()(),e.TgZ(15,"div",14),e.YNc(16,p,3,0,"div",15),e.YNc(17,_,3,0,"div",15),e.qZA(),e.TgZ(18,"div",10)(19,"div",11)(20,"button",16),e.NdJ("click",function(){return c.close()}),e._UZ(21,"span",17),e.qZA()()()()()()()),2&t&&(e.xp6(7),e.Q6J("ngIf",!c.webcamImage),e.xp6(1),e.Q6J("ngIf",c.webcamImage),e.xp6(5),e.Q6J("disabled",!c.webcamImage),e.xp6(3),e.Q6J("ngIf",!c.webcamImage),e.xp6(1),e.Q6J("ngIf",c.webcamImage))},dependencies:[g.O5,n.xw,n.Wh,a.i3],styles:[".mat-dialog-container{padding:0!important;overflow:hidden!important}manage-camera .fixed-actions{height:100%;display:flex;flex-direction:column}manage-camera .spacer{flex-grow:1}manage-camera .mat-dialog-content{height:auto;margin-bottom:0!important;max-height:initial!important}manage-camera .mat-dialog-actions{padding:6px;margin-bottom:0!important;background:#f7f7f7}manage-camera .mat-tab-body-content{overflow:visible!important;height:unset!important}manage-camera #app{text-align:center;color:#2c3e50;margin-top:60px}manage-camera #video{background-color:#fff}manage-camera #canvas{display:none}manage-camera li{display:inline;padding:5px}\n"],encapsulation:2}),i})()},4074:(b,h,r)=>{r.d(h,{C:()=>g});var a=r(5861),u=r(7066),e=r(2223),m=r(3144);let g=(()=>{class n extends u.D{constructor(o){var s;super(),s=this,this.http=o,this.createImage=function(){var p=(0,a.Z)(function*(_){return s.http.post(`${s.getApiUrl()}/images`,{..._},{headers:s.getHeaders()}).toPromise()});return function(_){return p.apply(this,arguments)}}()}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(m.eN))},n.\u0275dir=e.lG2({type:n,features:[e.qOj]}),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},7228:(b,h,r)=>{r.d(h,{Z:()=>e});const a=void 0,e=["es",[["a.\xa0m.","p.\xa0m."],a,a],a,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],a,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],a,[["a. C.","d. C."],a,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",a,a,a],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[a,"$"],BRL:[a,"R$"],BYN:[a,"\u0440."],CAD:[a,"$"],CNY:[a,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[a,"\xa3"],HKD:[a,"$"],ILS:[a,"\u20aa"],INR:[a,"\u20b9"],JPY:[a,"\xa5"],KRW:[a,"\u20a9"],MXN:[a,"$"],NZD:[a,"$"],PHP:[a,"\u20b1"],RON:[a,"L"],THB:["\u0e3f"],TWD:[a,"NT$"],USD:["US$","$"],XAF:[],XCD:[a,"$"],XOF:[]},"ltr",function u(m){const g=m,n=Math.floor(Math.abs(m)),d=m.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(m.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===g?1:0===o&&0!==n&&n%1e6==0&&0===d||!(o>=0&&o<=5)?4:5}]},5861:(b,h,r)=>{function a(e,m,g,n,d,o,s){try{var p=e[o](s),_=p.value}catch(v){return void g(v)}p.done?m(_):Promise.resolve(_).then(n,d)}function u(e){return function(){var m=this,g=arguments;return new Promise(function(n,d){var o=e.apply(m,g);function s(_){a(o,n,d,s,p,"next",_)}function p(_){a(o,n,d,s,p,"throw",_)}s(void 0)})}}r.d(h,{Z:()=>u})}}]);